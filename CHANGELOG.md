# 更新日志

本文档记录私人导航网站项目的所有版本更新历史。

## [1.1.0] - 2025-08-15

### 新增功能
- **忘记密码功能**
  - 用户注册时可设置安全问题和答案
  - 支持通过安全问题验证身份后重置密码
  - 三步式密码重置流程（输入邮箱 → 回答问题 → 设置新密码）
  - 答案验证不区分大小写，自动去除首尾空格

### 数据库变更
- `users` 表新增 `security_question` 字段
- `users` 表新增 `security_answer` 字段（加密存储）
- 提供数据库迁移脚本 `backend/src/migrations/add-security-fields.ts`

### 技术改进
- 创建安全的数据库迁移机制，保护现有数据
- 优化用户体验，提供清晰的错误提示
- 响应式设计，支持移动端访问

### 升级指南
1. 停止后端服务
2. 执行数据库迁移：
   ```bash
   cd backend
   npx ts-node src/migrations/add-security-fields.ts
   ```
3. 重新启动服务

## [1.0.1] - 2025-08-14

### 新增功能
- **链接拖拽排序**
  - 支持在分类内拖拽调整链接顺序
  - 自动保存排序结果到后端
  - 流畅的动画效果

- **链接默认图标**
  - 创建链接时自动分配随机emoji图标
  - 支持URL图标、Emoji图标和占位符三种显示方式

### 依赖更新
- 添加 `vuedraggable@4.1.0` 支持拖拽功能

## [1.0.0] - 2025-08-13

### 初始版本发布

#### 核心功能
- **用户系统**
  - 用户注册（用户名、邮箱、密码）
  - 用户登录（JWT认证）
  - 会话管理

- **分类管理**
  - 创建、编辑、删除分类
  - 分类排序
  - 分类图标和颜色自定义

- **链接管理**
  - 添加、编辑、删除链接
  - 链接归属分类
  - 链接标题、URL、描述管理
  - 批量操作支持

#### 技术栈
- **前端**: Vue 3 + TypeScript + Vite + Element Plus + Pinia
- **后端**: Node.js + Express + TypeScript + Sequelize
- **数据库**: SQLite
- **认证**: JWT

#### 项目结构
```
├── backend/          # 后端服务
│   ├── src/
│   │   ├── models/      # 数据模型
│   │   ├── controllers/ # 控制器
│   │   ├── routes/      # 路由
│   │   ├── middleware/  # 中间件
│   │   └── utils/       # 工具函数
│   └── database.sqlite  # 数据库文件
│
├── frontend/         # 前端应用
│   ├── src/
│   │   ├── pages/       # 页面组件
│   │   ├── stores/      # 状态管理
│   │   ├── router/      # 路由配置
│   │   └── utils/       # 工具函数
│   └── index.html
│
└── documents/        # 项目文档
    ├── 设计文档.MD
    └── 开发日志.md
```

---

## 版本号说明

本项目遵循语义化版本规范（Semantic Versioning）：

- **主版本号（MAJOR）**：不兼容的 API 修改
- **次版本号（MINOR）**：向下兼容的功能性新增
- **修订号（PATCH）**：向下兼容的问题修正

格式：`MAJOR.MINOR.PATCH`

### 版本标签
- `[新增]` - 新功能
- `[修复]` - Bug 修复
- `[变更]` - 功能变更
- `[优化]` - 性能优化
- `[文档]` - 文档更新
- `[依赖]` - 依赖更新
- `[破坏性]` - 破坏性变更，需要注意兼容性

---
